<!doctype html>
<html amp lang="en">
    <head>
        <meta charset="utf-8">

        <title>A Production Ops Guide to Deploying Hadoop in Docker Containers</title>

        <link rel="amphtml" href="https://amp-docs.portworx.com/applications/hadoop-docker.html">
        <link rel="canonical" href="https://docs.portworx.com/applications/hadoop-docker.html">

        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1">

        <style amp-custom>
            html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:hover,a:focus{color:#23527c;text-decoration:underline}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role="button"]{cursor:pointer}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.h1 small,.h2 small,.h3 small,.h4 small,.h5 small,.h6 small,h1 .small,h2 .small,h3 .small,h4 .small,h5 .small,h6 .small,.h1 .small,.h2 .small,.h3 .small,.h4 .small,.h5 .small,.h6 .small{font-weight:normal;line-height:1;color:#777}h1,.h1,h2,.h2,h3,.h3{margin-top:20px;margin-bottom:10px}h1 small,.h1 small,h2 small,.h2 small,h3 small,.h3 small,h1 .small,.h1 .small,h2 .small,.h2 .small,h3 .small,.h3 .small{font-size:65%}h4,.h4,h5,.h5,h6,.h6{margin-top:10px;margin-bottom:10px}h4 small,.h4 small,h5 small,.h5 small,h6 small,.h6 small,h4 .small,.h4 .small,h5 .small,.h5 .small,h6 .small,.h6 .small{font-size:75%}h1,.h1{font-size:36px}h2,.h2{font-size:30px}h3,.h3{font-size:24px}h4,.h4{font-size:18px}h5,.h5{font-size:14px}h6,.h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}small,.small{font-size:85%}mark,.mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover,a.text-primary:focus{color:#286090}.text-success{color:#3c763d}a.text-success:hover,a.text-success:focus{color:#2b542c}.text-info{color:#31708f}a.text-info:hover,a.text-info:focus{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover,a.text-warning:focus{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover,a.text-danger:focus{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover,a.bg-primary:focus{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover,a.bg-success:focus{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover,a.bg-info:focus{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover,a.bg-warning:focus{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover,a.bg-danger:focus{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ol ul,ul ol,ol ol{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:20px}dt,dd{line-height:1.42857143}dt{font-weight:bold}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0}blockquote footer,blockquote small,blockquote .small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote footer:before,blockquote small:before,blockquote .small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse footer:before,blockquote.pull-right footer:before,.blockquote-reverse small:before,blockquote.pull-right small:before,.blockquote-reverse .small:before,blockquote.pull-right .small:before{content:''}.blockquote-reverse footer:after,blockquote.pull-right footer:after,.blockquote-reverse small:after,blockquote.pull-right small:after,.blockquote-reverse .small:after,blockquote.pull-right .small:after{content:'\00A0 \2014'}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Courier New",monospace}code{padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;border-radius:4px}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,0.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,0.25)}kbd kbd{padding:0;font-size:100%;font-weight:bold;-webkit-box-shadow:none;box-shadow:none}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.row{margin-left:-15px;margin-right:-15px}.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:20px}.table>thead>tr>th,.table>tbody>tr>th,.table>tfoot>tr>th,.table>thead>tr>td,.table>tbody>tr>td,.table>tfoot>tr>td{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>th,.table>caption+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>td,.table>thead:first-child>tr:first-child>td{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>thead>tr>th,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>tbody>tr>td,.table-condensed>tfoot>tr>td{padding:5px}.table-bordered{border:1px solid #ddd}.table-bordered>thead>tr>th,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>tbody>tr>td,.table-bordered>tfoot>tr>td{border:1px solid #ddd}.table-bordered>thead>tr>th,.table-bordered>thead>tr>td{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*="col-"]{position:static;float:none;display:table-column}table td[class*="col-"],table th[class*="col-"]{position:static;float:none;display:table-cell}.table>thead>tr>td.active,.table>tbody>tr>td.active,.table>tfoot>tr>td.active,.table>thead>tr>th.active,.table>tbody>tr>th.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>tbody>tr.active>td,.table>tfoot>tr.active>td,.table>thead>tr.active>th,.table>tbody>tr.active>th,.table>tfoot>tr.active>th{background-color:#f5f5f5}.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover,.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr.active:hover>th{background-color:#e8e8e8}.table>thead>tr>td.success,.table>tbody>tr>td.success,.table>tfoot>tr>td.success,.table>thead>tr>th.success,.table>tbody>tr>th.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>tbody>tr.success>td,.table>tfoot>tr.success>td,.table>thead>tr.success>th,.table>tbody>tr.success>th,.table>tfoot>tr.success>th{background-color:#dff0d8}.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover,.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr.success:hover>th{background-color:#d0e9c6}.table>thead>tr>td.info,.table>tbody>tr>td.info,.table>tfoot>tr>td.info,.table>thead>tr>th.info,.table>tbody>tr>th.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>tbody>tr.info>td,.table>tfoot>tr.info>td,.table>thead>tr.info>th,.table>tbody>tr.info>th,.table>tfoot>tr.info>th{background-color:#d9edf7}.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover,.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr.info:hover>th{background-color:#c4e3f3}.table>thead>tr>td.warning,.table>tbody>tr>td.warning,.table>tfoot>tr>td.warning,.table>thead>tr>th.warning,.table>tbody>tr>th.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>tbody>tr.warning>td,.table>tfoot>tr.warning>td,.table>thead>tr.warning>th,.table>tbody>tr.warning>th,.table>tfoot>tr.warning>th{background-color:#fcf8e3}.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover,.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr.warning:hover>th{background-color:#faf2cc}.table>thead>tr>td.danger,.table>tbody>tr>td.danger,.table>tfoot>tr>td.danger,.table>thead>tr>th.danger,.table>tbody>tr>th.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>tbody>tr.danger>td,.table>tfoot>tr.danger>td,.table>thead>tr.danger>th,.table>tbody>tr.danger>th,.table>tfoot>tr.danger>th{background-color:#f2dede}.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover,.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr.danger:hover>th{background-color:#ebcccc}.table-responsive{overflow-x:auto;min-height:0.01%}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>thead>tr>th,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tfoot>tr>td{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>thead>tr>th:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.table-responsive>.table-bordered>thead>tr>th:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>th,.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>td{border-bottom:0}}fieldset{padding:0;margin:0;border:0;min-width:0}legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:bold}input[type="search"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type="file"]{display:block}input[type="range"]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{display:block;padding-top:7px;font-size:14px;line-height:1.42857143;color:#555}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-transition:border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s, box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s, box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control::-ms-expand{border:0;background-color:transparent}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}input[type="search"]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){input[type="date"].form-control,input[type="time"].form-control,input[type="datetime-local"].form-control,input[type="month"].form-control{line-height:34px}input[type="date"].input-sm,input[type="time"].input-sm,input[type="datetime-local"].input-sm,input[type="month"].input-sm,.input-group-sm input[type="date"],.input-group-sm input[type="time"],.input-group-sm input[type="datetime-local"],.input-group-sm input[type="month"]{line-height:30px}input[type="date"].input-lg,input[type="time"].input-lg,input[type="datetime-local"].input-lg,input[type="month"].input-lg,.input-group-lg input[type="date"],.input-group-lg input[type="time"],.input-group-lg input[type="datetime-local"],.input-group-lg input[type="month"]{line-height:46px}}.form-group{margin-bottom:15px}.radio,.checkbox{position:relative;display:block;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:normal;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:normal;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="checkbox"][disabled],input[type="radio"].disabled,input[type="checkbox"].disabled,fieldset[disabled] input[type="radio"],fieldset[disabled] input[type="checkbox"]{cursor:not-allowed}.radio-inline.disabled,.checkbox-inline.disabled,fieldset[disabled] .radio-inline,fieldset[disabled] .checkbox-inline{cursor:not-allowed}.radio.disabled label,.checkbox.disabled label,fieldset[disabled] .radio label,fieldset[disabled] .checkbox label{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0;min-height:34px}.form-control-static.input-lg,.form-control-static.input-sm{padding-left:0;padding-right:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm{height:30px;line-height:30px}textarea.input-sm,select[multiple].input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm textarea.form-control,.form-group-sm select[multiple].form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-lg{height:46px;line-height:46px}textarea.input-lg,select[multiple].input-lg{height:auto}.form-group-lg .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg textarea.form-control,.form-group-lg select[multiple].form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.3333333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.input-lg+.form-control-feedback,.input-group-lg+.form-control-feedback,.form-group-lg .form-control+.form-control-feedback{width:46px;height:46px;line-height:46px}.input-sm+.form-control-feedback,.input-group-sm+.form-control-feedback,.form-group-sm .form-control+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline,.has-success.radio label,.has-success.checkbox label,.has-success.radio-inline label,.has-success.checkbox-inline label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline,.has-warning.radio label,.has-warning.checkbox label,.has-warning.radio-inline label,.has-warning.checkbox-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline,.has-error.radio label,.has-error.checkbox label,.has-error.radio-inline label,.has-error.checkbox-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .radio label,.form-inline .checkbox label{padding-left:0}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .radio,.form-horizontal .checkbox{min-height:27px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}@media (min-width:768px){.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:11px;font-size:18px}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.btn{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus,.btn-default.focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:hover,.btn-default.active:hover,.open>.dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open>.dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open>.dropdown-toggle.btn-default.focus{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary:focus,.btn-primary.focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active:hover,.btn-primary.active:hover,.open>.dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open>.dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open>.dropdown-toggle.btn-primary.focus{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:focus,.btn-success.focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active:hover,.btn-success.active:hover,.open>.dropdown-toggle.btn-success:hover,.btn-success:active:focus,.btn-success.active:focus,.open>.dropdown-toggle.btn-success:focus,.btn-success:active.focus,.btn-success.active.focus,.open>.dropdown-toggle.btn-success.focus{color:#fff;background-color:#398439;border-color:#255625}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:focus,.btn-info.focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active:hover,.btn-info.active:hover,.open>.dropdown-toggle.btn-info:hover,.btn-info:active:focus,.btn-info.active:focus,.open>.dropdown-toggle.btn-info:focus,.btn-info:active.focus,.btn-info.active.focus,.open>.dropdown-toggle.btn-info.focus{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:focus,.btn-warning.focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active:hover,.btn-warning.active:hover,.open>.dropdown-toggle.btn-warning:hover,.btn-warning:active:focus,.btn-warning.active:focus,.open>.dropdown-toggle.btn-warning:focus,.btn-warning:active.focus,.btn-warning.active.focus,.open>.dropdown-toggle.btn-warning.focus{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:focus,.btn-danger.focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active:hover,.btn-danger.active:hover,.open>.dropdown-toggle.btn-danger:hover,.btn-danger:active:focus,.btn-danger.active:focus,.open>.dropdown-toggle.btn-danger:focus,.btn-danger:active.focus,.btn-danger.active.focus,.open>.dropdown-toggle.btn-danger.focus{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:normal;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*="col-"]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group .form-control:focus{z-index:3}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:46px;line-height:46px}textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn,select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn,select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn{height:auto}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:normal;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:first-child>.btn-group:not(:first-child)>.btn{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:hover,.input-group-btn>.btn:focus,.input-group-btn>.btn:active{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:bold;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:hover,a.label:focus{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:hover,.label-default[href]:focus{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:hover,.label-primary[href]:focus{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:hover,.label-success[href]:focus{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:hover,.label-info[href]:focus{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:hover,.label-warning[href]:focus{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:hover,.label-danger[href]:focus{background-color:#c9302c}.clearfix:before,.clearfix:after,.dl-horizontal dd:before,.dl-horizontal dd:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after,.form-horizontal .form-group:before,.form-horizontal .form-group:after{content:" ";display:table}.clearfix:after,.dl-horizontal dd:after,.container:after,.container-fluid:after,.row:after,.form-horizontal .form-group:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.affix{position:fixed}
            .topfork {
    position: absolute;
    top: 75px;
    right: 0;
    border: 0;
    display: none;
}

.portworx-logo {
    margin-left: -20px;
}

.portworx-top {
    padding: 25px 0 20px 30px;
    margin: 0;
    background: #ccc;
}

amp-sidebar {
    width: 250px;
    padding-right: 10px;
}

.portworx-menu-btn {
    font-size: 2em;
    float: right;
    background: none;
    border: 0;
    padding: 0;
}

#sidebar {
    padding: 10px;
    background: #fff;
    color: #333;
    font-size: 0.9em;
}

#sidebar h4 {
    border: 0;
    background: #f1f1f1;
    padding: 7px;
    margin-bottom: 1px;
    font-size: 1em;
    font-weight: normal;
}

#sidebar h3 {
    color: #F15A22;
    font-weight: 100;
    margin-top: 5px;
}

#sidebar h4:after {
    content: '\25be';
    float: right;
}

#sidebar ul.drop {
    padding: 0;
}

#sidebar ul.drop li {
    list-style-type: none;
    background: #FAFAFA;
    margin-top: 1px;
    padding: 7px;
}

#sidebar section[expanded]>h4 {
    color: #fff;
    background: #F15A22;
}

ul#mysidebar>li.nopadd {
    padding: 0 0 0 7px;
}

amp-img {
    max-width: 100%;
}

amp-img > img {
    object-fit: contain;
}

.launch-icon {
    max-width: 64px
}

.slack-icon {
    max-width: 48px;
}

.cf-stack {
    max-width: 144px;
}

.amp-close-image {
    float: right;
}

.google-search {
    padding-bottom: 10px;
}

.google-search input {
    font-size: 0.9em;
    height: 25px;
    padding: 5px;
    background-image: url(https://www.google.com/favicon.ico);
    background-size: 16px;
    background-repeat: no-repeat;
    background-position: 3px;
    padding-left: 22px;
}

        </style>
        <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

        <script async src="https://cdn.ampproject.org/v0.js"></script>
        <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
        <script async custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
        
        
        <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
        <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    </head>
    <body>

        <amp-analytics type="googleanalytics">
            <script type="application/json">
{
  "extraUrlParams": {
    "cg1": "Docs"
  },
  "vars": {
    "account": "UA-64247527-2"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
            </script>
        </amp-analytics>

        <noscript>
            Javascript required for AMP version of Portworx documentation. 
            <a href="https://docs.portworx.com/applications/hadoop-docker.html">Click here</a> to go to the full documentation.
        </noscript>

        












<amp-sidebar id="sidebar" layout="nodisplay" side="right">

  <amp-img class="amp-close-image"
    src="/images/ic_close_black_18dp_2x.png"
    width="20"
    height="20"
    alt="close sidebar"
    on="tap:sidebar.close"
    role="button"
    tabindex="0"></amp-img>

    <h3>Portworx Documentation</h3>

    <form action="https://www.google.com/search" class="google-search" target="_top">
        <input name="sitesearch" type="hidden" value="docs.portworx.com">
        <input type="text" class="form-control" name="q" placeholder="Google Search">
    </form>

    <amp-accordion>
        
            
<section>
    <h4>Get Started</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/#install-with-a-container-orchestrator" 
                    >
                    
                        Install with a Container Orchestrator
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Install with OCI runC and systemd</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/runc/" 
                    >
                    
                        Install
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/runc/#upgrade-px-oci" 
                    >
                    
                        Upgrade
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/runc/options.html" 
                    >
                    
                        Install Arguments
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/developer/index.html" 
                    >
                    
                        Developer Edition
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/getting-started/px-licensing.html" 
                    >
                    
                        Licensing
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Container Orchestrators</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Kubernetes</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Install</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/kubernetes/openshift-install.html" 
                    >
                    
                        Openshift
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>AWS (Amazon Web Services)</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/cloud/aws/kops-asg.html" 
                    >
                    
                        KOPS (Kubernetes Operations)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/px-k8s-asg.html" 
                    >
                    
                        AWS using Auto Scaling Groups
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/aws/eks.html" 
                    >
                    
                        Elastic Kubernetes Service (EKS)
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/cloud/gcp/gke.html" 
                    >
                    
                        GKE (Google Container Engine)
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Azure</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/cloud/azure/aks.html" 
                    >
                    
                        Azure Kubernetes Service (AKS)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/azure/k8s-acs-engine.html" 
                    >
                    
                        Azure Container Engine with Kubernetes
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/kubernetes.html" 
                    >
                    
                        Kubernetes on DC/OS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/install.html" 
                    >
                    
                        Kubernetes (Other)
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/install.html#interactive-tutorial" 
                    >
                    
                        Interactive tutorials
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/stork.html" 
                    >
                    
                        Using Stork
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/csi.html" 
                    >
                    
                        Deploying using CSI
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Stateful applications</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/kubernetes/cassandra-k8s.html" 
                    >
                    
                        Cassandra
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/kafka-k8s.html" 
                    >
                    
                        Kafka
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/elasticstack-kibana-k8s.html" 
                    >
                    
                        Elastic Search and Kibana
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/wp-k8s.html" 
                    >
                    
                        WordPress and MySQL
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>How To</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Create PVCs</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/kubernetes/dynamic-provisioning.html" 
                    >
                    
                        Dynamic Provisioning
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/preprovisioned-volumes.html" 
                    >
                    
                        Using Pre-provisioned Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/snaps.html" 
                    >
                    
                        Create and use snapshots
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/shared-volumes.html" 
                    >
                    
                        Create shared PVCs
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/encrypted-volumes.html" 
                    >
                    
                        Create encrypted PVCs
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/non-root.html" 
                    >
                    
                        Access via non-root users
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/statefulsets.html" 
                    >
                    
                        Run Statefulsets
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/failover.html" 
                    >
                    
                        Test Failover
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/scheduler-convergence.html" 
                    >
                    
                        Run Hyper Converged
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/secrets/portworx-with-kubernetes-secrets.html" 
                    >
                    
                        Configure Kubernetes Secrets
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/update-px-geography.html" 
                    >
                    
                        Update Portworx Geography Info
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Operate and Maintain</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/kubernetes/going-production-with-k8s.html" 
                    >
                    
                        Running Portworx in Production with Kubernetes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/upgrade.html" 
                    >
                    
                        Upgrade
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/uninstall.html" 
                    >
                    
                        Uninstall
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/k8s-scale-restrict.html" 
                    >
                    
                        Scale or Restrict
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/support.html" 
                    >
                    
                        Troubleshoot and Get Support
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/k8s-node-decommission.html" 
                    >
                    
                        Decommission a node
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/k8s-node-maintenance.html" 
                    >
                    
                        Enter Portworx maintenance mode
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/k8s-px-systemd-service.html" 
                    >
                    
                        Control Portworx systemd service
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Logging and Monitoring</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/kubernetes/logmanagement-efk-k8s.html" 
                    >
                    
                        Manage PX logs using ELK and Fluentd
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/monitoring-px-prometheusAndGrafana.html" 
                    >
                    
                        Manage PX using Prometheus and Grafana
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Mesosphere DC/OS</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/install.html" 
                    >
                    
                        Install
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/kubernetes.html" 
                    >
                    
                        Kubernetes on DC/OS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/install-universe.html" 
                    >
                    
                        Universe for Air-gapped clusters
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Stateful Frameworks</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/frameworks.html" 
                    >
                    
                        About
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/cassandra.html" 
                    >
                    
                        Cassandra
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/hadoop-hdfs.html" 
                    >
                    
                        HDFS &amp; Hadoop
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/kafka.html" 
                    >
                    
                        Kafka
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/elasticsearch.html" 
                    >
                    
                        Elasticsearch
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/couchdb.html" 
                    >
                    
                        CouchDB
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/zookeeper.html" 
                    >
                    
                        Zookeeper
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Operate and Maintain</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/going-production-with-dcos.html" 
                    >
                    
                        Running Portworx in Production with DC/OS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/upgrade-oci.html" 
                    >
                    
                        Upgrade
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/constraints.html" 
                    >
                    
                        Constraining Applications to PX nodes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/inline.html" 
                    >
                    
                        Dynamically Creating Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/update-px-geography.html" 
                    >
                    
                        Update Portworx Geography Info
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/volume-scaling.html" 
                    >
                    
                        Scaling Stateful Applications
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/framework-cleanup.html" 
                    >
                    
                        Cleanup Frameworks
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>FAQ</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/mesosphere-dcos/portworx-volumes.html" 
                    >
                    
                        How Portworx Volumes work with DCOS
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Docker</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Install</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/docker/install-standalone.html" 
                    >
                    
                        Standalone
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/docker/install-swarm.html" 
                    >
                    
                        Swarm
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/runc/#upgrade-px-oci" 
                    >
                    
                        Upgrade
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>How To</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/docker/swarm.html" 
                    >
                    
                        Use PX with Swarm
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/docker/volume-plugin.html" 
                    >
                    
                        How Portworx Volumes work with Docker
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Rancher</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/rancher/install.html" 
                    >
                    
                        Install
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Nomad</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/scheduler/nomad/install.html" 
                    >
                    
                        Install
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>About Data Volumes</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/manage/volumes.html" 
                    >
                    
                        Create and Manage Data Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/shared-volumes.html" 
                    >
                    
                        Shared Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/snapshots.html" 
                    >
                    
                        Snapshots
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/volume-update.html" 
                    >
                    
                        Updating Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/encrypted-volumes.html" 
                    >
                    
                        Encrypted Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/class-of-service.html" 
                    >
                    
                        Class of Service
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/manage/update-px-geography.html" 
                    >
                    
                        Update Portworx Geography Info
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Legacy and External Access</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/applications/nfs.html" 
                    >
                    
                        NFS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/object-storage.html" 
                    >
                    
                        Object Storage
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Cloud Reference Guides</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Amazon Web Services</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/cloud/aws/ec2.html" 
                    >
                    
                        Amazon EC2 with EBS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/aws/ecs.html" 
                    >
                    
                        Amazon Elastic Container Service (ECS)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/aws/eks.html" 
                    >
                    
                        Amazon Elastic Kubernetes Service (EKS)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/aws/kops-asg.html" 
                    >
                    
                        KOPS (Kubernetes Operations)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/aws/asg.html" 
                    >
                    
                        Auto Scaling Group (ASG)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/getting-started/diy.html" 
                    >
                    
                        Cloud Formation, DIY Demo
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Microsoft Azure</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/cloud/azure/azure.html" 
                    >
                    
                        Portworx on Azure
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/azure/aks.html" 
                    >
                    
                        Azure Kubernetes Service (AKS)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/azure/k8s-acs-engine.html" 
                    >
                    
                        Azure Container Engine with Kubernetes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/azure/dcos-acs-engine.html" 
                    >
                    
                        Azure Container Engine with DCOS
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Google Cloud</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/cloud/gcp/gke.html" 
                    >
                    
                        Google Kubernetes Engine (GKE)
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/cloud/softlayer.html" 
                    >
                    
                        SoftLayer
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/packet.html" 
                    >
                    
                        Packet.net
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/digitalocean.html" 
                    >
                    
                        DigitalOcean
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/rackspace.html" 
                    >
                    
                        Rackspace
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/cloud/backups.html" 
                    >
                    
                        Cloud Backups
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>CLI and API Reference</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>CLI</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/control/status.html" 
                    >
                    
                        Basics
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/volume.html" 
                    >
                    
                        Volume
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/snap.html" 
                    >
                    
                        Snaps
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/groupsnap.html" 
                    >
                    
                        Group Snaps
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/cloud.html" 
                    >
                    
                        Cloud Snaps
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="#" 
                    >
                    
                        Credentials
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/cluster.html" 
                    >
                    
                        Cluster
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/service.html" 
                    >
                    
                        Service
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/credentials.html" 
                    >
                    
                        Host
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/asg-clouddrive.html" 
                    >
                    
                        CloudDrives (ASG)
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/license.html" 
                    >
                    
                        License
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/runc/options.html" 
                    >
                    
                        Installation Arguments to Portworx
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/rest-api.html" 
                    >
                    
                        REST API
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/control/config-json.html" 
                    >
                    
                        Node config data
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Operate and Maintain</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Monitoring and Alerts</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/maintain/monitoring/index.html" 
                    >
                    
                        Monitoring
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/monitoring/prometheus/index.html" 
                    >
                    
                        Prometheus
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/monitoring/alerting.html" 
                    >
                    
                        Alerts integration with Prometheus
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/monitoring/grafana/index.html" 
                    >
                    
                        Grafana
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/monitoring/portworx-alerts.html" 
                    >
                    
                        Alerts Reference
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Performance and Tuning</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/maintain/performance/tuning.html" 
                    >
                    
                        Tuning
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/performance/fio.html" 
                    >
                    
                        FIO
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/performance/sql.html" 
                    >
                    
                        SQL
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/performance/nosql.html" 
                    >
                    
                        NOSQL
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/maintain/users-groups.html" 
                    >
                    
                        Manage Users and Groups
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/upgrade.html" 
                    >
                    
                        Upgrade Portworx
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Capacity Management</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/maintain/scale-up.html" 
                    >
                    
                        Add storage to nodes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/scale-out.html" 
                    >
                    
                        Scale up an existing cluster
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/scale-down.html" 
                    >
                    
                        Scale down an existing cluster
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/maintain/storageless-nodes.html" 
                    >
                    
                        Storage-less Nodes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/maintenance-mode.html" 
                    >
                    
                        Maintenance Mode
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/maintain/dr-best-practices.html" 
                    >
                    
                        DR Best Practices
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Application Solutions</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Big Data</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Cassandra</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/applications/cassandra.html" 
                    >
                    
                        Deployment
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/cassandra-px-perf-test.html" 
                    >
                    
                        Measuring Performance
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/cassandra-snaps.html" 
                    >
                    
                        Snapshots
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/applications/hadoop-docker.html" 
                    class="selected">
                    
                        <b>Hadoop and HDFS</b>
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Databases</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/applications/mysql.html" 
                    >
                    
                        MySQL
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/postgres.html" 
                    >
                    
                        PostgreSQL
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/mssql-server.html" 
                    >
                    
                        Microsoft SQL Server
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Messaging</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/applications/redis.html" 
                    >
                    
                        Redis
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/applications/kafka.html" 
                    >
                    
                        Kafka
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/applications/docker-registry.html" 
                    >
                    
                        Docker Registry
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Wordpress</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/applications/docker-compose.html" 
                    >
                    
                        Wordpress deployment by Docker
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/scheduler/kubernetes/wp-k8s.html" 
                    >
                    
                        Wordpress deployment by Kubernetes
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
        <li >
            
                <a href="/applications/jenkins.html" 
                    >
                    
                        Jenkins
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Key Management</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/secrets/portworx-with-vault.html" 
                    >
                    
                        Portworx with Vault
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/secrets/portworx-with-aws-kms.html" 
                    >
                    
                        Portworx with AWS KMS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/secrets/portworx-with-kubernetes-secrets.html" 
                    >
                    
                        Portworx with Kubernetes Secrets
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/secrets/portworx-with-dcos-secrets.html" 
                    >
                    
                        Portworx with DC/OS Secrets
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Lighthouse</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/enterprise/lighthouse-new.html" 
                    >
                    
                        Install Lighthouse
                    
                </a>
            
        </li>
    
        <li class="nopadd">
            
                <amp-accordion>
                    
<section>
    <h4>Manage PX via Lighthouse</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/enterprise/lighthouse-volume-update.html" 
                    >
                    
                        Update Volume
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/enterprise/lighthouse-new-create-credentials.html" 
                    >
                    
                        Create Cloud Credentials
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/enterprise/lighthouse-snapshots.html" 
                    >
                    
                        Create Volume Snapshots
                    
                </a>
            
        </li>
    
    </ul>
</section>
                </amp-accordion>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Knowledge Base</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/knowledgebase/sdn.html" 
                    >
                    
                        Running with an SDN
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/knowledgebase/shared-mount-propogation.html" 
                    >
                    
                        Shared Mount Propogation
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/knowledgebase/devicemapper.html" 
                    >
                    
                        Devicemapper Thinpool setup
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/knowledgebase/docker-user-namespace.html" 
                    >
                    
                        Docker User Namespaces
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/knowledgebase/sles-12-sp1.html" 
                    >
                    
                        Running with SLES 12 SP1
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/knowledgebase/faqs.html" 
                    >
                    
                        FAQs
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Release Notes</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/release-notes/portworx-enterprise.html" 
                    >
                    
                        PX-Enterprise Release Notes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/release-notes/on-premise-lighthouse.html" 
                    >
                    
                        Lighthouse On-Prem Release Notes
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Open Source Resources</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="https://github.com/libopenstorage" 
                    >
                    
                        OpenStorage.org
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="https://github.com/libopenstorage/stork" 
                    >
                    
                        STORK
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="https://github.com/portworx/torpedo" 
                    >
                    
                        Torpedo for CSI and Kubernetes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="https://github.com/portworx/lcfs" 
                    >
                    
                        Graph Drivers for Docker
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Video Demos</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="/video/mesos.html" 
                    >
                    
                        Mesos, Mesosphere and Marathon
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/dcos.html" 
                    >
                    
                        DCOS with Portworx
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/rancher.html" 
                    >
                    
                        Rancher
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/shared-volumes.html" 
                    >
                    
                        Shared Volumes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/multi-cloud.html" 
                    >
                    
                        Multi-cloud High Availability
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/quickstart.html" 
                    >
                    
                        Portwork QuickStart Explainer
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/hadoop-px-dcos.html" 
                    >
                    
                        Hadoop on Portworx on DCOS
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/sql-server.html" 
                    >
                    
                        Microsoft SQL Server with High Availability
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="/video/sql-server-on-k8s.html" 
                    >
                    
                        SQL Server on Kubernetes
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
            
<section>
    <h4>Live Sandbox Demos</h4>
    <ul id="mysidebar" class="nav drop">
    
        <li >
            
                <a href="https://katacoda.com/portworx/scenarios/deploy-px-k8s" 
                    >
                    
                        Portworx on Kubernetes
                    
                </a>
            
        </li>
    
        <li >
            
                <a href="https://katacoda.com/portworx/scenarios/px-k8s-vol-basic" 
                    >
                    
                        Persistent Volumes on Kubernetes
                    
                </a>
            
        </li>
    
    </ul>
</section>
        
    </amp-accordion>

</amp-sidebar>

        <div class="row portworx-top">
            <div class="col-xs-6 portworx-logo">
                <a href="/">
                    <amp-img src="/images/px-logo.png" height="50px" width="138px">
                </a>
            </div>
            <div class="col-xs-6">
                <button on="tap:sidebar.toggle" class="ampstart-btn caps m2 portworx-menu-btn">&#9776;</button>
            </div>
        </div>

        <div class="container">
            <h1 class="post-title">
                A Production Ops Guide to Deploying Hadoop in Docker Containers
            </h1>

            <ul id="markdown-toc">
  <li><a href="#target-audience" id="markdown-toc-target-audience">Target Audience</a></li>
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#deploying-hadoop-as-containers" id="markdown-toc-deploying-hadoop-as-containers">Deploying Hadoop as Containers</a></li>
  <li><a href="#hdfs-architectural-background" id="markdown-toc-hdfs-architectural-background">HDFS Architectural Background</a></li>
  <li><a href="#advantages-of-hadoop-with-portworx" id="markdown-toc-advantages-of-hadoop-with-portworx">Advantages of Hadoop with Portworx</a>    <ul>
      <li><a href="#enable-hadoop-to-run-on-a-cloud-native-storage-infrastructure-that-is-managed-the-same-way-whether-you-run-on-premise-or-in-any-public-cloud" id="markdown-toc-enable-hadoop-to-run-on-a-cloud-native-storage-infrastructure-that-is-managed-the-same-way-whether-you-run-on-premise-or-in-any-public-cloud">Enable Hadoop to run on a cloud-native storage infrastructure that is managed the same way, whether you run on-premise or in any public cloud</a></li>
      <li><a href="#faster-recovery-times-during-a-node-failure" id="markdown-toc-faster-recovery-times-during-a-node-failure">Faster recovery times during a node failure</a>        <ul>
          <li><a href="#a-failover-example" id="markdown-toc-a-failover-example">A failover example</a></li>
          <li><a href="#hdfs-replication" id="markdown-toc-hdfs-replication">HDFS replication</a></li>
          <li><a href="#portworx-replication" id="markdown-toc-portworx-replication">Portworx replication</a></li>
        </ul>
      </li>
      <li><a href="#increase-readwrite-throughput-while-reducing-recovery-time" id="markdown-toc-increase-readwrite-throughput-while-reducing-recovery-time">Increase read/write throughput while reducing recovery time</a></li>
      <li><a href="#increase-resource-utilization-by-safely-running-multiple-hadoop-clusters-on-the-same-hosts" id="markdown-toc-increase-resource-utilization-by-safely-running-multiple-hadoop-clusters-on-the-same-hosts">Increase resource utilization by safely running multiple Hadoop clusters on the same hosts</a>        <ul>
          <li><a href="#volume-provisioning-and-isolation" id="markdown-toc-volume-provisioning-and-isolation">Volume provisioning and isolation</a></li>
          <li><a href="#enforcing-sla-with-resource-limits" id="markdown-toc-enforcing-sla-with-resource-limits">Enforcing SLA with resource limits</a></li>
        </ul>
      </li>
      <li><a href="#improve-hadoop-performance-with-hyperconvergence" id="markdown-toc-improve-hadoop-performance-with-hyperconvergence">Improve Hadoop performance with hyperconvergence</a></li>
      <li><a href="#dynamically-resize-hdfs-volumes-with-no-downtime" id="markdown-toc-dynamically-resize-hdfs-volumes-with-no-downtime">Dynamically resize HDFS volumes with no downtime</a></li>
      <li><a href="#simplified-installation-and-configuration-of-hadoop" id="markdown-toc-simplified-installation-and-configuration-of-hadoop">Simplified installation and configuration of Hadoop</a>        <ul>
          <li><a href="#simplifying-storage-provisioning" id="markdown-toc-simplifying-storage-provisioning">Simplifying storage provisioning</a></li>
          <li><a href="#simplifying-hadoop-deployments-with-the-dcos-framework" id="markdown-toc-simplifying-hadoop-deployments-with-the-dcos-framework">Simplifying Hadoop deployments with the DCOS framework</a>            <ul>
              <li><a href="#installation" id="markdown-toc-installation">Installation</a>                <ul>
                  <li><a href="#default-install" id="markdown-toc-default-install">Default Install</a></li>
                  <li><a href="#advanced-install" id="markdown-toc-advanced-install">Advanced Install</a></li>
                  <li><a href="#install-status" id="markdown-toc-install-status">Install Status</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#scaling-the-data-nodes" id="markdown-toc-scaling-the-data-nodes">Scaling the Data Nodes</a></li>
        </ul>
      </li>
      <li><a href="#reference-guide-for-deploying-hadoop-as-a-service" id="markdown-toc-reference-guide-for-deploying-hadoop-as-a-service">Reference Guide for deploying Hadoop as a Service</a></li>
      <li><a href="#conclusions" id="markdown-toc-conclusions">Conclusions</a></li>
    </ul>
  </li>
</ul>

<h2 id="target-audience">Target Audience</h2>
<p>This document is intended for Dev and Ops teams that meet one or more of the following conditions:</p>

<ul>
  <li>You are heavily over provisioned.  You run Hadoop clusters in silos, and every time you need to bring up a silo, you create a new physical (cloud or on prem) hardware footprint to host this Hadoop cluster.  Virtualization is not an option, since you want to get bare-metal performance.
You have unused clusters that are consuming storage and compute resources.  Since they are pinned to physical infrastructure, it is difficult to reuse resources.</li>
  <li>You desire to host a common platform as a service for multiple Hadoop end users (internal customers).  You also want to run other data services like Cassandra on this same infrastructure.</li>
  <li>Your HDFS data lakes have inconsistencies.  Since you create multiple silos for each Hadoop cluster, you are unable to audit or validate the correctness of the data in the data lakes.  Since these data lakes are created separately from the deployment of your Hadoop cluster, you have no control over the governance of its data.</li>
  <li>You are spending too much time with manual resources used to create silos.  Your end users are unable to deploy Hadoop clusters without IT intervention and out of band compute and storage provisioning.  You want to get to a mode where clusters can be deployed in a self-service, programmatic manner.</li>
</ul>

<h2 id="introduction">Introduction</h2>
<p>Apache Hadoop, inspired by work first done at Google,  is a collection of services designed for the distributed processing of large data sets across clusters of commodity servers.  It was developed out of the need to analyze very large datasets without requiring super computer resources.  The Hadoop ecosystem includes many projects, some of most popular include:</p>

<p>Hadoop Common  contains libraries and utilities needed by other Hadoop modules;</p>

<p>Hadoop Distributed File System (HDFS)  a distributed file-system that stores data on commodity machines, providing very high aggregate bandwidth across the cluster;</p>

<p>Hadoop YARN  a platform responsible for managing computing resources in clusters and using them for scheduling users applications</p>

<p>Hadoop MapReduce  an implementation of the MapReduce programming model for large-scale data processing.</p>

<p>Hbase- A scalable, distributed database that supports structured data storage for large tables.</p>

<p>Hive - A data warehouse infrastructure that provides data summarization and ad hoc querying.</p>

<p>HDFS manages the persistence layer for Hadoop, with stateless services like YARN speaking to HDFS.  HDFS has built-in data replication and so is resilient against host failure. Because data replication can also be provided at the storage level by Portworx, a typical question is: should I ensure high-availability of my Hadoop workloads through HDFS itself, through my storage, or a combination of the two? This Production Operations Guide to Running Hadoop is aimed at helping answer this question by showing how to use HDFS replication alongside Portworx to speed up recovery
times, increase density and simplify operations.</p>

<h2 id="deploying-hadoop-as-containers">Deploying Hadoop as Containers</h2>
<p>Traditionally, Hadoop has been deployed directly on bare metal servers in a siloed environment.  As the number of Hadoop instances and deployments grow, managing multiple silos becomes problematic.  The specific issues with managing multiple Hadoop silos on fixed physical infrastructure are:</p>

<ul>
  <li>Under utilization of server and storage resources.</li>
  <li>Manual out of band storage and compute provisioning for each new deployment.</li>
  <li>Creation of multiple conflicting data lakes (data inconsistencies between silos).</li>
  <li>Zombie resources after the completion of a job.</li>
</ul>

<p>Typically, some form of virtualization is needed to manage any large application deployment to solve these issues.  Virtual machines however add a layer of overhead that is not conducive to big data deployments.  This is where the advent of containers becomes useful.  By deploying Hadoop inside of Linux containers, you can get the power of virtualization with bare metal performance.  You also empower a DevOps model of deploying applications - one in which out-of-band IT is not involved as your application owners deploy and scale their Hadoop clusters.</p>

<h2 id="hdfs-architectural-background">HDFS Architectural Background</h2>
<p>For the purposes of this discussion, there are a few important architectural components of HDFS that need to be understood.</p>

<p>HDFS is composed of a few specialized services.  They include:</p>

<p><em>NameNode</em>
The NameNode stores cluster metadata and decides where data blocks are written and reads are served.  Only one NameNode is ever in control of a cluster. However, when running Hadoop in HA mode, there are two NameNodes, one Active
(master) and one Standby (slave).  If the Active node dies, the Standby node takes over.</p>

<p><em>JournalNode</em>
The JournalNode is responsible for coordinating the Active and Standby NameNodes. Any change to the Active NameNode is synchronously replicated to the Standby NameNode.</p>

<p><em>DataNode</em>
DataNodes store the the actual blocks of data.  The data in a Hadoop cluster is distributed amongst N DataNodes that make up the cluster. Additional copies of the blocks are also placed on DataNodes according to the replication factor configured on the NameNode.</p>

<p><em>Designed for Converged Deployments</em>
Hadoop is designed for bare-metal deployments of commodity servers a la Google with a Yarn or other job running on the same physical host that has the data needed for the job. These various components of HDFS were designed to run on dedicated servers with local drives.  Scale of capacity is achieved by increasing the number of instances of each of these components.  That is, HDFS is designed to scale horizontally, not vertically by adding more capacity to anyone node.  This in turn makes the use of external storage systems such as SAN or NAS undesirable for HDFS deployments.</p>

<h2 id="advantages-of-hadoop-with-portworx">Advantages of Hadoop with Portworx</h2>

<p>This data locality is important for performance and simplified operations.   However, when using containers to run Hadoop, data locality creates a problem. Deploying multiple containerized instances of Hadoop via your scheduling software like Kubernetes, Mesos or Docker Swarm can result in Yarn or other jobs running in containers on hosts that do not have the appropriate data, significantly reducing performance. Portworx solves this problem and in doing so brings five significance benefits.</p>

<p>The benefits of running Hadoop with Portworx are:</p>
<ul>
  <li>Enable Hadoop to run on a cloud-native storage infrastructure that is managed the same way, whether you run on-premise or in any public cloud</li>
  <li>Faster recovery times during a failure for Data, Name and Journal nodes.</li>
  <li>Increased resource utilization because multiple Hadoop clusters can be safely run on the same hosts</li>
  <li>Improved Hadoop performance with data locality or hyperconvergence</li>
  <li>Dynamic resizing of HDFS volumes with no downtime</li>
  <li>Simplified installation and configuration of Hadoop via Portworx frameworks
Lets look at each in turn.</li>
</ul>

<p><amp-img  src="/images/px-hadoop-docker-containers-architecture.png" alt="Running Hadoop in containers with Portworx" width="655px" height="200px" /></p>

<h3 id="enable-hadoop-to-run-on-a-cloud-native-storage-infrastructure-that-is-managed-the-same-way-whether-you-run-on-premise-or-in-any-public-cloud">Enable Hadoop to run on a cloud-native storage infrastructure that is managed the same way, whether you run on-premise or in any public cloud</h3>
<p>The goal behind creating a PaaS is to host multiple application deployments on the same set of hardware resources regardless of the infrastructure type (private or public cloud).  This way you get maximum resource utilization for any application on any platform.</p>

<p>In order to accomplish this, you need cloud native compute scheduling software such as Kubernetes or Mesosphere.  Portworx compliments this by providing a cloud native storage platform which serves as a common denominator across diverse cloud and data center architectures.  Using software-defined data layer, any application can programmatically allocate and consume stateful services without having to plan for different storage architectures.  With Portworx and modern scheduling and orchestration software, you architect your application deployment once, and reuse it on any infrastructure.  Equally important is the ability for your end users to create these resources directly via the orchestration software without having to involve and rely on traditional, out-of-band IT methods.</p>

<h3 id="faster-recovery-times-during-a-node-failure">Faster recovery times during a node failure</h3>
<p>Hardware and network failures are a part of normal operations. For this reason, modern software like Hadoop, designed to run on commodity servers where failures are common, can recover from these failures automatically.  Though automated, recovery is a time consuming operation and reduces cluster performance during recovery. Portworx can help your Hadoop cluster recover from that failure faster than using HDFS own built in replication while at the same time taking advantage of HDFS replication for improved read/write performance.  The rest of this section describes how.</p>

<h4 id="a-failover-example">A failover example</h4>
<p>Lets take a look at what happens when a DataNode in our Hadoop cluster fails.</p>

<p>Lets assume that we have a readily available pool of brand-new nodes that can take the place of our failed data node. The issue is that this new and willing replacement has no data  its disks are blank, as we would hope if we are practicing immutable infrastructure. This is where HDFS replication comes in.</p>

<h4 id="hdfs-replication">HDFS replication</h4>
<p>When a DataNode has not been in contact via a heartbeat with the NameNode for 10 minutes (or some other period of time configured by the Hadoop admin), the NameNode will instruct a DataNode with the necessary blocks to asynchronously replicate the data to other DataNodes in order to maintain the necessary replication factor.
So, if the admin has configured a replication factor of 3, and a DataNode containing one replica falls out of the cluster, the NameNode will replicate the data to one new DataNode.</p>

<p>There are 2 implications of this process.</p>

<p>1- Rebuilding a DataNode replica from scratch is a time consuming operation.
The amount of time depends on the total size of the replica and the available I/O in the cluster.  For largest data sets, recovering a DataNode can take an hour or more.</p>

<p>2- While the rebuild operation is taking place, the read and write performance of the rest of the cluster suffers.
This is because while replication can happen fastest if all I/O is used for replication, this would bring cluster performance down to zero during the rebuild operation.  Therefore, the NameNode throttles re-replication traffic to two outbound replication streams per DataNode, per heartbeat.  This is configurable via dfs.namenode.replication.max-streams, however turning this up reduces cluster performance even more.  The effect of this is worse if you have compounded or multiple failures in your cluster and need to rebuild multiple nodes.</p>

<h4 id="portworx-replication">Portworx replication</h4>
<p>So while HDFS itself is capable of recovering from a failure, it is an expensive and time-consuming operation.
Portworx takes a different approach, allowing for nearly instant failover in the case of a DataNode failure. Portworx replication is synchronous and done at the block layer.  This means that we can transparently replicate a single HDFS DataNode volume multiple times, giving us a backup to use if something fails.</p>

<p>Because Portworx uses block layer replication, the Portworx replica of the HDFS DataNode volume is identical.  This means that if the node with our HDFS DataNode volume fails, we can immediately switch over to our Portworx replica. Essentially  Portworx is creating a backup volume that we can use to slide and replace under the DataNode container in the event of a node failure. This bypasses the re-replication phase completely and drastically reduces the amount of time taken to failover a HDFS DataNode.</p>

<p>How does this work?  Lets image the same scenario as above where we have lost a DataNode which is replaced by a new empty node. With HDFS only, weve seen that wed need to re-replicate all the data before we can serve reads and writes again from that DataNode and that this takes some time and reduces our performance in the meantime.
With Portworx however, we can immediately use one of the Portworx replicas for the new Hadoop container and start absorbing writes. This will happen much faster than the bootstrap operation of HDFS alone.
Basically the new DataNode will come up with the same identity as the node that died because Portworx is replicating the data at the block layer.</p>

<p>In this scenario, where we have just lost a node from our cluster  Portworx has helped us to recover quickly by allowing the replica of the volume to be used right away.</p>

<h3 id="increase-readwrite-throughput-while-reducing-recovery-time">Increase read/write throughput while reducing recovery time</h3>

<p>The key to the above process is to use the lower-layer Portworx replication to add resilience and failover to a single DataNode volume instead of relying on HDFS to replicate data. This helps us reduce recovery time but what if we wanted to increase our read/write throughput at the same time?</p>

<p>We can combine the two types of replication in a single cluster and get the best of both worlds:</p>
<ul>
  <li>Use HDFS replication to increase our capacity to process queries</li>
  <li>Use Portworx replication to decrease our total time to recovery</li>
</ul>

<p>Essentially, Portworx offers a backup volume for each HDFS volume enabling a slide and replace operation in the event of failover. Compare this to the bootstrap operation and you can see how Portworx can reduce recovery time.
By using a replicated Portworx volume for your HDFS containers and then turning up HDFS replication, you get the best of both worlds: high query throughput and reduced time to recovery.</p>

<h3 id="increase-resource-utilization-by-safely-running-multiple-hadoop-clusters-on-the-same-hosts">Increase resource utilization by safely running multiple Hadoop clusters on the same hosts</h3>

<p>The above operational best practices have been concerned with reliability and performance.  Now we can look at efficiency.  Most organizations run multiple Hadoop clusters, and when each cluster is architectured as outlined above, you can achieve fast and reliable performance.  However, since Hadoop is a resource intensive application, the costs of operating multiple clusters can be considerable.  It would be nice if multiple clusters could be run on the same hosts. This is possible with Portworx.</p>

<h4 id="volume-provisioning-and-isolation">Volume provisioning and isolation</h4>
<p>First, Portworx can provide container-granular volumes to multiple HDFS Data, Name and Journal Nodes running on the same host.  On prem, these volumes can use local direct attached storage which Portworx formats as a block device and slices up for each container.  Alternatively in the cloud, a single or multiple network-attached blocked devices like AWS EBS or Google Persistent disk can be used, likewise with Portworx slicing each block device into multiple container-granular block devices.</p>

<p>Since Portworx is application aware, you can pass in the equivalent of a Hadoop cluster id as a group id in volume. Using this id Portworx will make sure that it does not colocate data for two stateful nodes (Data, Name and Journal) instances that belong to the same cluster on the same node. Each of your clusters will be spread across the cluster, maximizing resilience in the face of hardware failure.  This model can be extended for as many clusters as your hardware and network can support.</p>

<p>In principle, it is possible to set up multiple Hadoop clusters on the same hosts without a scheduler.  This requires additional cluster members to use different ports for the HDFS containers and update the corresponding hdfs-site.xml file. However, this option is complex to configure and moves teams away from the automation that speeds up deployments and reduces errors.</p>

<h4 id="enforcing-sla-with-resource-limits">Enforcing SLA with resource limits</h4>
<p>Portworx and a container scheduler like DCOS, Kubernetes or Swarm can enable resource isolation between containers from different Hadoop clusters running on the same server.  Using this, each Hadoop cluster can achieve application level SLAs based on business requires.  This works by using schedulers to enforce compute constraints like CPU and Memory and using Portworx to enforce I/O priority.  Portworx can reserve varying levels of disk IOPS and bandwidth for different containers from each Hadoop cluster.  All of these constraints are at the container granular level.</p>

<p>This way, you can have one Yarn job prioritized over another based on the app SLA to your business user.  Maximizing your resource utilization while still guaranteeing performance.</p>

<h3 id="improve-hadoop-performance-with-hyperconvergence">Improve Hadoop performance with hyperconvergence</h3>
<p>Chances are if you are running Hadoop, read and write performance of jobs is important to you.  Hadoop was designed to run in bare metal environments where each server offers its own disk as the storage media.  The idea of running an app on the same machine as its storage is called hyperconvergence.  Hadoop will always get the best performance using this setup because the map() and reduce() operations of put a lot of pressure on the network.
Hadoop splits files into large blocks and distributes them across nodes in a cluster. It then transfers packaged code into nodes to process the data in parallel. This approach takes advantage of data locality, where nodes manipulate the data they have access to. This allows the dataset to be processed faster and more efficiently
Source: https://en.wikipedia.org/wiki/Apache_Hadoop</p>

<p>Local storage is preferred because in addition to better performance, shared storage is a single point of failure that works against the resiliency built into HDFS.</p>

<p>So direct attached storage is the best approach but in many data centers, this is not an obvious setup.  In on prem data centers, there is often a SAN available but that is network-attached storage, not local storage.  Many companies also have a Ceph or Gluster cluster that they try to use for centralized storage.  Both SAN and Ceph/Gluster, however, dont deliver the performance that Hadoop likes.  On the one hand, the centralized nature of SAN storage increases the network latency and reduces throughput to which Hadoop is sensitive.  On the other hand, Ceph and Gluster, as file-based storage systems, are not optimized for database workloads, again, reducing performance.
In the cloud, we are usually talking about VMs which, besides not being bare metal, are often backed onto an external block device like Amazon EBS which because it is network attached, suffers the SAN-like latencies described above that you dont get with direct storage media.</p>

<p>Portworx helps in both these situations because it can force your schedulerKubernetes, Mesosphere DC/OS or Docker Swarmto run your Hadoop client container only on a host that has a copy of the data.</p>

<p>Portworx enforces these types of scheduling decisions using host labels. By labeling hosts based on which volumes they have and passing these constraints to the scheduler, your containers will run in the location that minimizes rebuilds and maximizes performance using direct attached storage.</p>

<h3 id="dynamically-resize-hdfs-volumes-with-no-downtime">Dynamically resize HDFS volumes with no downtime</h3>
<p>A defining attribute of big data applications is not just that they are big, but that they grow. DevOps teams running Hadoop clusters regularly discover that they have outgrown the previously provisioned storage for HDFS DataNodes. Provisioning additional storage typically requires DevOps to open a ticket for IT or storage admins to perform the task, which would end up taking hours, or even days. At the admin level, provisioning additional storage requires either migrating data to new larger volumes or performing multiple steps which lead to additional downtime.
Consider a business-critical BI cluster running a Yarn job on top of a HDFS data node that was provisioned with a 500GB volume because the DevOps thought that was sufficient headroom for the application. But then there is a burst of data ingestion, causing the DataNode to run out of space.
Portworx provides a programmatic way for DevOps to instantly increase the size of already-provisioned volumes without having to take either the application or the the underlying volumes offline. It involves running just one command which provisions more storage on the existing PX nodes, increases the size of the block device and then resizes the filesystem, all in a matter of seconds.</p>

<p>Heres how you can check if your volume is full and then increase its size.</p>

<ol>
  <li>Run the volume inspect command.This should tell you the capacity of the volume and how much is used.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ /opt/pwx/bin/pxctl volume inspect hdfs_volume

      Volume                   	:  658175664581050143
      Name        	             :  hdfs_volume
      Size        	             :  500 GiB
      Format      	             :  ext4
      HA          		         :  3
      IO Priority 	             :  LOW
      Creation time	       	 :  Feb 25 22:52:17 UTC 2017
      Shared      	             :  no
      Status      		         :  up
      State       	 	        :  Attached: 643ca9a6-972e-41d3-8a84-a2b27b21a1cc
      Device Path 	        	 :  /dev/pxd/pxd658175664581050143
      Reads       	             :  32
      Reads MS    	       	  :  44
      Bytes Read  	        	 :  352256
      Writes      		     	:  61
      Writes MS   	        	 :  104
      Bytes Written          	  :  536870912000
      IOs in progress       	   :  0
      Bytes used  	        	 :  500 GiB
      Replica sets on nodes:
                  Set  0
                              Node  :  192.168.56.101
                              Node  :  192.168.56.106
                            Node  :  192.168.56.105
</code></pre></div>    </div>
  </li>
</ol>

<p>You can see that the volume above is full, since all the space is used up.</p>

<ol>
  <li>Run the resize command to increase the size of the volume per your new requirement.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$/opt/pwx/bin/pxctl volume update hdfs_volume -size 1000
</code></pre></div>    </div>
    <p>Resize Volume: Volume hdfs_volume resized to 1000GB</p>
  </li>
  <li>Run volume inspect again and youll see that the size of the volume has been increased.
```
$/opt/pwx/bin/pxctl volume inspect hdfs_volume
      Volume                   	:  658175664581050143
      Name        	             :  hdfs_volume
      Size        	 	        :  1000 GiB
      Format      	             :  ext4
      HA          		         :  3
      IO Priority 	             :  LOW
      Creation time           	 :  Feb 25 22:52:17 UTC 2017
      Shared      	             :  no
      Status      		         :  up
      State    	    	        :  Attached: 643ca9a6-972e-41d3-8a84-a2b27b21a1cc
      Device Path 	        	 :  /dev/pxd/pxd658175664581050143
      Reads       	             :  32
      Reads MS    	       	  :  44
      Bytes Read  	        	 :  352256
      Writes      		         :  122
      Writes MS   	        	 :  232
      Bytes Written          	  :  536870912000
      IOs in progress       	   :  0
      Bytes used  	        	 :  500 GiB
      Replica sets on nodes:
                  Set  0
                              Node    :  192.168.56.101
                              Node    :  192.168.56.106
                              Node    :  192.168.56.105
``</li>
</ol>

<h3 id="simplified-installation-and-configuration-of-hadoop">Simplified installation and configuration of Hadoop</h3>
<p>Hadoop is a complex application to run.  Just a basic production Hadoop install requires: Active and Standby NameNodes, Journal Nodes, Data Nodes, Zookeeper Failover Controllers and Yarn nodes.
The complexity related to installation and configuration increases when you have multiple Hadoop clusters.
Running Hadoop with Portworx dramatically simplies this in two main ways.</p>

<h4 id="simplifying-storage-provisioning">Simplifying storage provisioning</h4>
<p>With Portworx all volumes used for Data, Journal and Name nodes are virtually provisioned at container granularity. Operations such as snapshots, encryption, compression and others are not a cluster, or storage wide property, but rather per container. This is a key aspect, because it turns the operational experience over to the application owner (DevOps teams) and not the IT admin (so you can avoid slow, static and out of band storage provisioning).</p>

<h4 id="simplifying-hadoop-deployments-with-the-dcos-framework">Simplifying Hadoop deployments with the DCOS framework</h4>
<p>Additionally, Portworx makes it easy to deploy specific data services, in this case Hadoop, by understanding how all the different pieces fit together.  Portworx runs with any schedule, but customers have been particularly excited about our DCOS frameworks so this document will discuss that.
Here we will see how easy it is to set up a 3 node Hadoop cluster running on DCOS. The framework will create:</p>
<ul>
  <li>3 Journal Nodes,</li>
  <li>2 Name Nodes, 2 Nodes for the Zookeeper Failover Controller,</li>
  <li>3 Data Nodes and 3 Yarn Nodes.</li>
  <li>The Data and Yarn nodes will be co-located on the same physical host to maximize performance.</li>
  <li>The number of Data and Yarn can later be increased via DCOS after installation to scale the service.</li>
</ul>

<p>Adding the repository for the service:</p>

<p>For this step you will need to login to a node which has the dcos cli installed and is authenticated to your DCOS cluster.</p>

<p>Run the following command to add the repository to your DCOS cluster:
$ dcos package repo add index=0 hadoop-px https://px-dcos.s3.amazonaws.com/v1/hadoop-px/hadoop-px.zip</p>

<p>Once you have run the above command you should see the Hadoop-PX service available in your universe</p>

<p><amp-img  src="/images/dcos-hadoop-px-universe.png" alt="Hadoop-PX in DCOS Universe" width="655px" height="200px" /></p>

<h5 id="installation">Installation</h5>

<h6 id="default-install">Default Install</h6>
<p>If you want to use the defaults, you can now run the dcos command to install the service</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dcos package install --yes hadoop-px
</code></pre></div></div>

<p>You can also click on the Install button on the WebUI next to the service and then click Install Package.</p>

<h6 id="advanced-install">Advanced Install</h6>
<p>If you want to modify the default, click on the Install button next to the package on the DCOS UI and then click on Advanced Installation</p>

<p>Here you have the option to change the service name, volume name, volume size, and provide any additional options that you want to pass to the docker volume driver. You can also configure other Hadoop related parameters on this page including the number of Data and Yarn nodes for the Hadoop cluster.</p>

<p><amp-img  src="/images/dcos-hadoop-px-install-options.png" alt="Hadoop-PX install options" width="655px" height="200px" /></p>

<p>Click on Review and Install and then Install to start the installation of the service.</p>

<h6 id="install-status">Install Status</h6>

<p>Once you have started the install you can go to the Services page to monitor the status of the installation.</p>

<p><amp-img  src="/images/dcos-hadoop-px-service.png" alt="Hadoop-PX on services page" width="655px" height="200px" /></p>

<p>If you click on the Hadoop-PX service you should be able to look at the status of the nodes being created. There will be one service for the scheduler, 3 for Journal Nodes, 2 for the Name Nodes, 2 for the Zookeeper Failover Controllers, 3 for the Data Nodes and 3 for the Yarn Nodes.</p>

<p><amp-img  src="/images/dcos-hadoop-px-started-install.png" alt="Hadoop-PX install started" width="655px" height="200px" /></p>

<p>When the Scheduler service as well as all the Hadoop containers nodes are in Running (green) status, you should be ready to start using the Hadoop cluster.</p>

<p><amp-img  src="/images/dcos-hadoop-px-finished-install.png" alt="Hadoop-PX install finished" width="655px" height="200px" /></p>

<p>If you check your Portworx cluster, you should see multiple volumes that were automatically created using the options provided during install, one for each of the Journal, Name and Data nodes.</p>

<p><amp-img  src="/images/dcos-hadoop-px-volume-list.png" alt="Hadoop-PX volumes" width="655px" height="200px" /></p>

<p>If you run the dcos service command you should see the hadoop-px service in ACTIVE state with 13 running tasks</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dcos service
NAME                         HOST                    ACTIVE  TASKS  CPU    MEM    DISK  ID
hadoop-px                 10.0.0.135                  True     13   9.0  32768.0  0.0   5c6438b2-1f63-4c23-b62a-ad0a7d354a91-0113
marathon                  10.0.4.21                   True     1    1.0   1024.0  0.0   01d86b9c-ca2c-4c3c-9d9f-d3a3ef3e3911-0001
metronome                 10.0.4.21                   True     0    0.0    0.0    0.0   01d86b9c-ca2c-4c3c-9d9f-d3a3ef3e3911-0000
</code></pre></div></div>

<h4 id="scaling-the-data-nodes">Scaling the Data Nodes</h4>
<p>You do not need to create additional volumes of perform to scale up your cluster. Just go to the Hadoop service page, click on the three dots on the top right corner of the page, select Data, scroll down and increase the nodes parameter to the desired nodes.
Click on Review and Run and then Run Service. The service scheduler should restart with the updated node count and create more Data nodes. Please make sure you have enough resources and nodes available to scale up the number of nodes. You also need to make sure Portworx is installed on all the agents in the DCOS cluster.
Additionally, as mentioned above, you can also increase the capacity of your HDFS DataNodes by using the pxctl volume update command without taking the service offline.</p>

<h3 id="reference-guide-for-deploying-hadoop-as-a-service">Reference Guide for deploying Hadoop as a Service</h3>

<p>In this section, we cover a reference architecture for creating a PaaS like Hadoop environment.  In this reference architecture, we used:</p>
<ul>
  <li>HPE DL360 for the DC/OS control plane nodes or similar</li>
  <li>HPE Apollo servers for the Hadoop clusters or similar</li>
  <li>HPE 5900 based networking or similar</li>
  <li>DC/OS version 1.9</li>
  <li>Portworx version 1.2.9</li>
  <li>RHEL Atomic as the base Linux distribution</li>
</ul>

<p><amp-img  src="/images/hadoop-ra-1.png" alt="Hadoop Reference Architecture rack diagram" width="655px" height="200px" /></p>

<p>There are 2 types of server modules used in this RA:</p>
<ul>
  <li>Management and head nodes - these nodes run as a DC/OS master node and run the control plane services such as Zookeeper.</li>
  <li>Worker nodes - These nodes run the actual Hadoop clusters.  These are hyper converged compute and storage nodes.</li>
</ul>

<p>There are two types of worker nodes used:</p>
<ul>
  <li>Tier 1 worker node with 45TB of SSD storage (24+4 x 1.6TB hot plug LFF SAS-SSD drives)</li>
  <li>Tier 2 worker nodes with 26.9TB of SSD storage (24+4 x 960GB hot plug LFF SATA-SSD drives)</li>
</ul>

<p>Installation Step 1
Install DC/OS such that the management and head nodes are used as the DC/OS master nodes and the the Apollo 4200 worker nodes are the Mesos agent nodes.  The Hadoop clusters will be scheduled on these nodes.</p>

<p>Installation Step 2
Once DC/OS has been installed, deploy Portworx.  First deploy the Portworx framework using the instructions detailed here: https://docs.portworx.com/scheduler/mesosphere-dcos/install.html</p>

<p>Next, install the Portworx framework for Big Data by following the instructions detailed here: https://docs.portworx.com/scheduler/mesosphere-dcos/hadoop-hdfs.html</p>

<p>Two-Rack Deployment Overview
The picture below depicts this architecture deployed in a two-rack environment:</p>

<p><amp-img  src="/images/hadoop-ra-2.png" alt="Hadoop Reference Architecture two rack diagram" width="655px" height="200px" /></p>

<h3 id="conclusions">Conclusions</h3>
<p>There are two main goals achieved by this reference architecture
Leveraging homogeneous server architectures for the physical data center scale-out strategy.  As compute and capacity demands increase, the data center is scaled in terms of modular DAS based Apollo 4200 worker nodes.
Leveraging cloud native compute and storage software such as DC/OS and Portworx to administer a common denominator, self provisioned programmable and composable application environment.</p>

<p>Using these two components, you can deploy a Hadoop-as-a-Service platform in a way that end users can deploy any big-data job in a self provisioned, self-assisted manner.  This architecture will work on any on-prem data center while maintaining portability to public cloud.</p>


        </div>

    </body>
</html>
